(this["webpackJsonpcommit-feed"]=this["webpackJsonpcommit-feed"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(27),i=n.n(r),s=n(176),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},j=n(11),u=n(46),l=n(68),m=n.n(l),d=n(84),b=n(85),h=n(177),p=n(174),O=n(175),x=n(178),f=n(172),v=n(2);function g(e){var t=e.commitNode,n=t.commit,a=n.message,c=n.committer.date,r=t.sha,i=t.committer,s=i.login,o=i.avatar_url;return Object(v.jsxs)(h.a,{variant:"outlined",sx:{width:"100%",p:2},children:[Object(v.jsxs)(p.a,{container:!0,columns:{xs:12,md:6},children:[Object(v.jsx)(p.a,{item:!0,xs:4,sm:2,children:Object(v.jsx)(O.a,{src:o})}),Object(v.jsx)(p.a,{item:!0,xs:8,sm:10,children:Object(v.jsx)(x.a,{variant:"h5",noWrap:!0,children:s})})]}),Object(v.jsx)(x.a,{variant:"body1",children:a}),Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",color:"gray"},children:[Object(v.jsx)(f.a,{title:"copy commit SHA",children:Object(v.jsx)(x.a,{variant:"caption",sx:{cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(r)},children:r})}),Object(v.jsx)(x.a,{variant:"caption",children:Object(b.a)(c,"fullDate")})]})]})}var y=n(179);function C(e){var t=e.children;return Object(v.jsx)(y.a,{maxWidth:"sm",sx:{m:2},children:Object(v.jsx)(p.a,{container:!0,columns:{xs:4,md:12},children:t})})}function S(e){var t,n,c=e.repoAddress,r=e.parameters,i=Object(u.useQuery)("commits",(t=c,n=r,Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL(t),Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),e.abrupt("return",fetch(a.toString(),{headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)}))))),s=i.data,o=i.error,j=i.isLoading,l=i.refetch;return Object(a.useEffect)((function(){l()}),[c,r]),Object(v.jsxs)(C,{children:[o&&Object(v.jsxs)("p",{children:["Error:"," ",o.message]}),j&&Object(v.jsx)("p",{children:"Loading..."}),s&&s.length?s.map((function(e){return Object(v.jsx)(g,{commitNode:e},e.sha)})):Object(v.jsx)("p",{children:"No commits found"})]})}var w=n(170),F=n(171),k=n(173);function W(e){var t=e.onSubmit,n=Object(a.useState)("m3db/m3"),c=Object(j.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)("1"),o=Object(j.a)(s,2),u=o[0],l=o[1],m=Object(a.useState)("master"),d=Object(j.a)(m,2),b=d[0],h=d[1];return Object(v.jsxs)(p.a,{container:!0,spacing:2,children:[Object(v.jsx)(p.a,{item:!0,xs:12,sm:5,children:Object(v.jsx)(F.a,{size:"small",name:"stepValue",variant:"outlined",required:!0,fullWidth:!0,label:"github repository",autoFocus:!0,value:r,onChange:function(e){return i(e.target.value)}})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:3,children:Object(v.jsx)(F.a,{size:"small",name:"branch",variant:"outlined",required:!0,fullWidth:!0,label:"branch",autoFocus:!0,value:b,onChange:function(e){return h(e.target.value)}})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(v.jsx)(F.a,{size:"small",name:"page",variant:"outlined",required:!0,fullWidth:!0,label:"page",autoFocus:!0,value:u,onChange:function(e){return l(e.target.value)}})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(v.jsx)(k.a,{variant:"contained",onClick:function(){var e="https://api.github.com/repos/".concat(r,"/commits");t(e,{page:u,per_page:"20",sha:b})},children:"fetch"})})]})}var L=new u.QueryClient;var A=function(){var e=Object(a.useState)("https://api.github.com/repos/m3db/m3/commits"),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({page:"1",per_page:"20",sha:"master"}),i=Object(j.a)(r,2),s=i[0],o=i[1];return Object(v.jsx)(u.QueryClientProvider,{client:L,children:Object(v.jsxs)(y.a,{component:"main",maxWidth:"md",children:[Object(v.jsx)("h1",{children:"commit feed"}),Object(v.jsx)(w.a,{}),Object(v.jsx)(W,{onSubmit:function(e,t){c(e),o(t)}}),Object(v.jsx)(S,{repoAddress:n,parameters:s})]})})},E=n(89),P=Object(E.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),q=Object(E.a)(P,{palette:{info:{main:P.palette.secondary.main}}});i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(s.a,{theme:q,children:Object(v.jsx)(A,{})})}),document.getElementById("root")),o()}},[[124,1,2]]]);
//# sourceMappingURL=main.0084b276.chunk.js.map