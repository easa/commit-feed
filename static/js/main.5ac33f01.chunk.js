(this["webpackJsonpcommit-feed"]=this["webpackJsonpcommit-feed"]||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),i=a.n(r),s=a(156),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,160)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},j=a(13),u=a(43),m=a(61),d=a.n(m),l=a(78),b=a(157),h=a(154),O=a(155),x=a(158),p=a(2);function f(e){var t=e.commitNode,a=t.author,n=a.avatar_url,c=a.login,r=t.commit,i=r.message,s=r.committer.date,o=t.sha;return Object(p.jsxs)(b.a,{variant:"outlined",sx:{width:"100%",p:2},children:[Object(p.jsxs)(h.a,{container:!0,columns:{xs:12,md:6},children:[Object(p.jsx)(h.a,{item:!0,xs:4,sm:2,children:Object(p.jsx)(O.a,{src:n})}),Object(p.jsx)(h.a,{item:!0,xs:8,sm:10,children:Object(p.jsx)(x.a,{variant:"h5",overflow:"hidden",sx:{m:2},children:c})})]}),Object(p.jsx)(x.a,{variant:"body1",children:i}),Object(p.jsx)(x.a,{variant:"subtitle1",children:o}),Object(p.jsx)(x.a,{variant:"subtitle1",children:s})]})}var v=a(159);function g(e){var t=e.children;return Object(p.jsx)(v.a,{maxWidth:"sm",sx:{m:2},children:Object(p.jsx)(h.a,{container:!0,columns:{xs:4,md:12},children:t})})}function y(e){var t,a,c=e.repoAddress,r=e.parameters,i=Object(u.useQuery)("commits",(t=c,a=r,Object(l.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(t),Object.keys(a).forEach((function(e){return n.searchParams.append(e,a[e])})),e.abrupt("return",fetch(n.toString(),{headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)}))))),s=i.data,o=i.error,j=i.isLoading,m=i.refetch;return Object(n.useEffect)((function(){m()}),[c,r]),Object(p.jsxs)(g,{children:[o&&Object(p.jsxs)("p",{children:["Error:"," ",o.message]}),j&&Object(p.jsx)("p",{children:"Loading..."}),s&&s.length?s.map((function(e){return Object(p.jsx)(f,{commitNode:e},e.sha)})):Object(p.jsx)("p",{children:"No commits found"})]})}var S=a(150),C=a(151),w=a(152);function F(e){var t=e.onSubmit,a=Object(n.useState)("m3db/m3"),c=Object(j.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)("1"),o=Object(j.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)("master"),l=Object(j.a)(d,2),b=l[0],O=l[1];return Object(p.jsxs)(h.a,{container:!0,spacing:2,children:[Object(p.jsx)(h.a,{item:!0,xs:12,sm:5,children:Object(p.jsx)(C.a,{size:"small",name:"stepValue",variant:"outlined",required:!0,fullWidth:!0,label:"github repository",autoFocus:!0,value:r,onChange:function(e){return i(e.target.value)}})}),Object(p.jsx)(h.a,{item:!0,xs:12,sm:3,children:Object(p.jsx)(C.a,{size:"small",name:"branch",variant:"outlined",required:!0,fullWidth:!0,label:"branch",autoFocus:!0,value:b,onChange:function(e){return O(e.target.value)}})}),Object(p.jsx)(h.a,{item:!0,xs:12,sm:2,children:Object(p.jsx)(C.a,{size:"small",name:"page",variant:"outlined",required:!0,fullWidth:!0,label:"page",autoFocus:!0,value:u,onChange:function(e){return m(e.target.value)}})}),Object(p.jsx)(h.a,{item:!0,xs:12,sm:2,children:Object(p.jsx)(w.a,{variant:"contained",onClick:function(){var e="https://api.github.com/repos/".concat(r,"/commits");t(e,{page:u,per_page:"20",sha:b})},children:"fetch"})})]})}var k=new u.QueryClient;var L=function(){var e=Object(n.useState)("https://api.github.com/repos/m3db/m3/commits"),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({page:"1",per_page:"20",sha:"master"}),i=Object(j.a)(r,2),s=i[0],o=i[1];return Object(p.jsx)(u.QueryClientProvider,{client:k,children:Object(p.jsxs)(v.a,{component:"main",maxWidth:"md",children:[Object(p.jsx)("h1",{children:"commit feed"}),Object(p.jsx)(S.a,{}),Object(p.jsx)(F,{onSubmit:function(e,t){c(e),o(t)}}),Object(p.jsx)(y,{repoAddress:a,parameters:s})]})})},W=a(81),E=Object(W.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),P=Object(W.a)(E,{palette:{info:{main:E.palette.secondary.main}}});i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{theme:P,children:Object(p.jsx)(L,{})})}),document.getElementById("root")),o()}},[[111,1,2]]]);
//# sourceMappingURL=main.5ac33f01.chunk.js.map