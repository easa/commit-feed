(this["webpackJsonpcommit-feed"]=this["webpackJsonpcommit-feed"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),i=n.n(c),s=n(155),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},j=n(13),u=n(43),m=n(60),l=n.n(m),d=n(77),b=n(78),h=n(156),p=n(154),O=n(157),x=n(2);function f(e){var t=e.commitNode,n=t.commit,a=n.message,r=n.committer.date,c=t.html_url,i=t.committer.login;return Object(x.jsx)(h.a,{variant:"outlined",sx:{width:"100%",p:2},children:Object(x.jsxs)(p.a,{container:!0,columns:{xs:12,md:6},children:[Object(x.jsx)(p.a,{item:!0,xs:4,sm:3,children:Object(x.jsx)(O.a,{variant:"caption",noWrap:!0,children:Object(b.a)(r,"fullDate")})}),Object(x.jsx)(p.a,{item:!0,xs:5,sm:7,children:Object(x.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:Object(x.jsx)(O.a,{variant:"body1",noWrap:!0,children:a})})}),Object(x.jsx)(p.a,{item:!0,xs:3,sm:2,children:Object(x.jsx)(O.a,{variant:"h5",noWrap:!0,children:i})})]})})}function g(e){var t,n,r=e.repoAddress,c=e.parameters,i=Object(u.useQuery)("commits",(t=r,n=c,Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL(t),Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),e.abrupt("return",fetch(a.toString(),{headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)}))))),s=i.data,o=i.error,j=i.isLoading,m=i.refetch;return Object(a.useEffect)((function(){m()}),[r,c]),Object(x.jsxs)(x.Fragment,{children:[o&&Object(x.jsxs)("p",{children:["Error:"," ",o.message]}),j&&Object(x.jsx)("p",{children:"Loading..."}),s&&s.length?s.map((function(e){return Object(x.jsx)(f,{commitNode:e},e.sha)})):Object(x.jsx)("p",{children:"No commits found"})]})}var v=n(158),y=n(150),S=n(151),C=n(152);function F(e){var t=e.onSubmit,n=Object(a.useState)("m3db/m3"),r=Object(j.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)("1"),o=Object(j.a)(s,2),u=o[0],m=o[1],l=Object(a.useState)("master"),d=Object(j.a)(l,2),b=d[0],h=d[1];return Object(x.jsxs)(p.a,{container:!0,spacing:2,children:[Object(x.jsx)(p.a,{item:!0,xs:12,sm:5,children:Object(x.jsx)(S.a,{size:"small",name:"stepValue",variant:"outlined",required:!0,fullWidth:!0,label:"github repository",autoFocus:!0,value:c,onChange:function(e){return i(e.target.value)}})}),Object(x.jsx)(p.a,{item:!0,xs:12,sm:3,children:Object(x.jsx)(S.a,{size:"small",name:"branch",variant:"outlined",required:!0,fullWidth:!0,label:"branch",autoFocus:!0,value:b,onChange:function(e){return h(e.target.value)}})}),Object(x.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(x.jsx)(S.a,{size:"small",name:"page",variant:"outlined",required:!0,fullWidth:!0,label:"page",autoFocus:!0,value:u,onChange:function(e){return m(e.target.value)}})}),Object(x.jsx)(p.a,{item:!0,xs:12,sm:2,children:Object(x.jsx)(C.a,{variant:"contained",onClick:function(){var e="https://api.github.com/repos/".concat(c,"/commits");t(e,{page:u,per_page:"20",sha:b})},children:"fetch"})})]})}var w=new u.QueryClient;var W=function(){var e=Object(a.useState)("https://api.github.com/repos/m3db/m3/commits"),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({page:"1",per_page:"20",sha:"master"}),i=Object(j.a)(c,2),s=i[0],o=i[1];return Object(x.jsx)(u.QueryClientProvider,{client:w,children:Object(x.jsxs)(v.a,{component:"main",maxWidth:"md",children:[Object(x.jsx)("h1",{children:"commit feed"}),Object(x.jsx)(y.a,{}),Object(x.jsx)(F,{onSubmit:function(e,t){r(e),o(t)}}),Object(x.jsx)(g,{repoAddress:n,parameters:s})]})})},k=n(81),L=Object(k.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),E=Object(k.a)(L,{palette:{info:{main:L.palette.secondary.main}}});i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(s.a,{theme:E,children:Object(x.jsx)(W,{})})}),document.getElementById("root")),o()}},[[111,1,2]]]);
//# sourceMappingURL=main.f7730435.chunk.js.map