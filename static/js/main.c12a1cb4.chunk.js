(this["webpackJsonpcommit-feed"]=this["webpackJsonpcommit-feed"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(29),i=n.n(a),o=n(159),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},j=n(47),u=n(154),d=n(161),l=n(63),b=n.n(l),m=n(78),h=function(e){var t=e.org,n=e.repo,c=e.page,r=void 0===c?1:c,a=e.pageSize,i=void 0===a?20:a;return function(e,t){return Object(m.a)(b.a.mark((function n(){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=new URL(e),Object.keys(t).forEach((function(e){return c.searchParams.append(e,t[e])})),n.abrupt("return",fetch(c.toString(),{headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.json()})));case 3:case"end":return n.stop()}}),n)})))}("https://api.github.com/repos/".concat(t,"/").concat(n,"/commits"),{page:String(r),per_page:String(i)})},x=n(13),O=n(158),p=n(155),f=n(156),g=n(2);function v(e){var t=e.onSubmit,n=Object(c.useState)("m3db"),r=Object(x.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)("m3"),s=Object(x.a)(o,2),j=s[0],u=s[1];return Object(g.jsxs)(O.a,{container:!0,spacing:2,children:[Object(g.jsx)(O.a,{item:!0,xs:5,sm:5,children:Object(g.jsx)(p.a,{size:"small",name:"org",variant:"outlined",required:!0,fullWidth:!0,label:"github organization",autoFocus:!0,value:a,onChange:function(e){return i(e.target.value)}})}),Object(g.jsx)(O.a,{item:!0,xs:5,sm:5,children:Object(g.jsx)(p.a,{size:"small",name:"stepValue",variant:"outlined",required:!0,fullWidth:!0,label:"github repository",autoFocus:!0,value:j,onChange:function(e){return u(e.target.value)}})}),Object(g.jsx)(O.a,{item:!0,xs:2,sm:2,children:Object(g.jsx)(f.a,{variant:"contained",onClick:function(){t({org:a,repo:j})},children:"fetch"})})]})}var S=n(15),y=n(83),C=n.n(y);function k(e){var t=e.children;return Object(g.jsx)("div",{className:C.a.center,children:t})}function F(){var e=Object(S.f)();return Object(g.jsx)(k,{children:Object(g.jsx)(d.a,{component:"main",maxWidth:"md",children:Object(g.jsx)(v,{onSubmit:function(t){var n=t.org,c=t.repo;h({org:n,repo:c,page:1,pageSize:1})().then((function(t){t.length?e("/".concat(n,"/").concat(c)):e("/does/not/exist")})).catch((function(){e("/does/not/exist")}))}})})})}var w=n(38),W=n(84),_=n(160),z=n(162);function L(e){var t=e.commitNode,n=t.commit,c=n.message,r=n.committer.date,a=t.html_url,i=t.committer.login;return Object(g.jsx)(_.a,{variant:"outlined",sx:{width:"100%",p:2},children:Object(g.jsxs)(O.a,{container:!0,columns:{xs:12,md:6},children:[Object(g.jsx)(O.a,{item:!0,xs:4,sm:3,children:Object(g.jsx)(z.a,{variant:"caption",noWrap:!0,children:Object(W.a)(r,"fullDate")})}),Object(g.jsx)(O.a,{item:!0,xs:5,sm:7,children:Object(g.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)(z.a,{variant:"body1",noWrap:!0,children:c})})}),Object(g.jsx)(O.a,{item:!0,xs:3,sm:2,children:Object(g.jsx)(z.a,{variant:"h5",noWrap:!0,children:i})})]})})}function N(){var e=Object(S.g)(),t=e.org,n=e.repo;if(void 0===t||void 0===n)return null;var r=Object(c.useState)(1),a=Object(x.a)(r,2),i=a[0],o=a[1],s=Object(j.useQuery)(["commits",i],h({org:t,repo:n,page:i})),u=s.data,d=s.error,l=s.isLoading;return Object(c.useEffect)((function(){o(1)}),[t,n]),Object(g.jsxs)(g.Fragment,{children:[d&&Object(g.jsxs)("p",{children:["Error:"," ",d.message]}),l&&Object(g.jsx)("p",{children:"Loading..."}),u&&u.length?Object(g.jsxs)(g.Fragment,{children:[u.map((function(e){return Object(g.jsx)(L,{commitNode:e},e.sha)})),Object(g.jsx)(f.a,{onClick:function(){o((function(e){return e+1}))},children:"load more"})]}):Object(g.jsx)("p",{children:"No commits found"})]})}function E(e){var t=e.children;return Object(g.jsxs)(d.a,{maxWidth:"md",sx:{p:1,mx:"auto"},children:[Object(g.jsx)(f.a,{variant:"outlined",component:w.b,to:"/",children:"back to home"}),Object(g.jsx)(O.a,{container:!0,columns:{xs:4,md:12},children:t})]})}var P=new j.QueryClient;var Q=function(){return Object(g.jsxs)(j.QueryClientProvider,{client:P,children:[Object(g.jsx)(u.a,{}),Object(g.jsx)(w.a,{children:Object(g.jsx)(S.c,{children:Object(g.jsxs)(S.a,{path:"/",children:[Object(g.jsx)(S.a,{index:!0,element:Object(g.jsx)(F,{})}),Object(g.jsx)(S.a,{path:"/does/not/exist",element:Object(g.jsx)(E,{children:"does not exist!"})}),Object(g.jsx)(S.a,{path:"/:org/:repo",element:Object(g.jsx)(E,{children:Object(g.jsx)(N,{})})})]})})})]})},q=n(85),B=Object(q.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),D=Object(q.a)(B,{palette:{info:{main:B.palette.secondary.main}}});i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(o.a,{theme:D,children:Object(g.jsx)(Q,{})})}),document.getElementById("root")),s()},83:function(e,t,n){e.exports={center:"center_center__1g9eN"}}},[[115,1,2]]]);
//# sourceMappingURL=main.c12a1cb4.chunk.js.map