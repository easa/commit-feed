(this["webpackJsonpcommit-feed"]=this["webpackJsonpcommit-feed"]||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(29),i=n.n(a),o=n(163),s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},j=n(49),u=n(158),l=n(165),d=n(63),b=n.n(d),h=n(78),m=function(e){var t=e.org,n=e.repo,c=e.page,r=void 0===c?1:c,a=e.pageSize,i=void 0===a?20:a;return function(e,t){return Object(h.a)(b.a.mark((function n(){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=new URL(e),Object.keys(t).forEach((function(e){return c.searchParams.append(e,t[e])})),n.abrupt("return",fetch(c.toString(),{headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.json()})));case 3:case"end":return n.stop()}}),n)})))}("https://api.github.com/repos/".concat(t,"/").concat(n,"/commits"),{page:String(r),per_page:String(i)})},x=n(13),O=n(162),p=n(159),f=n(160),g=n(2);function v(e){var t=e.onSubmit,n=Object(c.useState)("m3db"),r=Object(x.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)("m3"),s=Object(x.a)(o,2),j=s[0],u=s[1];return Object(g.jsxs)(O.a,{container:!0,spacing:2,children:[Object(g.jsx)(O.a,{item:!0,xs:5,sm:5,children:Object(g.jsx)(p.a,{size:"small",name:"org",variant:"outlined",required:!0,fullWidth:!0,label:"github organization",autoFocus:!0,value:a,onChange:function(e){return i(e.target.value)}})}),Object(g.jsx)(O.a,{item:!0,xs:5,sm:5,children:Object(g.jsx)(p.a,{size:"small",name:"stepValue",variant:"outlined",required:!0,fullWidth:!0,label:"github repository",autoFocus:!0,value:j,onChange:function(e){return u(e.target.value)}})}),Object(g.jsx)(O.a,{item:!0,xs:2,sm:2,children:Object(g.jsx)(f.a,{variant:"contained",onClick:function(){t({org:a,repo:j})},children:"fetch"})})]})}var S=n(15),y=n(84),C=n.n(y);function k(e){var t=e.children;return Object(g.jsx)("div",{className:C.a.center,children:t})}function F(){var e=Object(S.f)();return Object(g.jsx)(k,{children:Object(g.jsx)(l.a,{component:"main",maxWidth:"md",children:Object(g.jsx)(v,{onSubmit:function(t){var n=t.org,c=t.repo;m({org:n,repo:c,page:1,pageSize:1})().then((function(t){t.length?e("/".concat(n,"/").concat(c)):e("/does/not/exist")})).catch((function(){e("/does/not/exist")}))}})})})}var w=n(39),W=n(16),_=n(167),z=n(86),E=n(85),L=n(164),N=n(166);function P(e){var t=e.commitNode,n=t.commit,c=n.message,r=n.committer.date,a=t.html_url,i=t.author;return Object(g.jsx)(L.a,{variant:"outlined",sx:{width:"100%",p:2},children:Object(g.jsxs)(O.a,{container:!0,columns:{xs:12,md:6},children:[Object(g.jsx)(O.a,{item:!0,xs:4,sm:3,children:Object(g.jsx)(N.a,{variant:"caption",noWrap:!0,children:Object(E.a)(r,"fullDate")})}),Object(g.jsx)(O.a,{item:!0,xs:6,sm:8,children:Object(g.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:Object(g.jsx)(N.a,{variant:"body1",noWrap:!0,children:c})})}),Object(g.jsx)(O.a,{item:!0,xs:2,sm:1,children:Object(g.jsx)(N.a,{variant:"body1",noWrap:!0,children:null===i||void 0===i?void 0:i.login})})]})})}function Q(){var e=Object(S.g)(),t=e.org,n=e.repo;if(void 0===t||void 0===n)return null;var r=Object(c.useState)(1),a=Object(x.a)(r,2),i=a[0],o=a[1],s=Object(c.useState)([]),u=Object(x.a)(s,2),l=u[0],d=u[1],b=Object(j.useQuery)(["commits",i,t,n],m({org:t,repo:n,page:i})),h=b.data,O=b.error,p=b.isLoading;return Object(c.useEffect)((function(){h&&d(Object(z.a)((function(e){e.splice.apply(e,[e.length,0].concat(Object(W.a)(h)))})))}),[h]),Object(c.useEffect)((function(){o(1)}),[t,n]),Object(g.jsxs)(g.Fragment,{children:[O&&Object(g.jsxs)("p",{children:["Error:"," ",O.message]}),p&&Object(g.jsx)("p",{children:"Loading..."}),l&&l.length&&Object(g.jsxs)(g.Fragment,{children:[" ",l.map((function(e){return Object(g.jsx)(P,{commitNode:e},e.sha)})),(null===h||void 0===h?void 0:h.length)&&Object(g.jsx)(_.a,{m:"auto",mt:2,children:Object(g.jsx)(f.a,{variant:"outlined",onClick:function(){o((function(e){return e+1}))},children:"load more"})})]})]})}function q(e){var t=e.children;return Object(g.jsxs)(l.a,{maxWidth:"md",sx:{p:1,mx:"auto"},children:[Object(g.jsx)(f.a,{variant:"outlined",component:w.b,to:"/",children:"back to home"}),Object(g.jsx)(O.a,{container:!0,columns:{xs:4,md:12},children:t})]})}var B=new j.QueryClient;var D=function(){return Object(g.jsxs)(j.QueryClientProvider,{client:B,children:[Object(g.jsx)(u.a,{}),Object(g.jsx)(w.a,{children:Object(g.jsx)(S.c,{children:Object(g.jsxs)(S.a,{path:"/",children:[Object(g.jsx)(S.a,{index:!0,element:Object(g.jsx)(F,{})}),Object(g.jsx)(S.a,{path:"/does/not/exist",element:Object(g.jsx)(q,{children:"does not exist!"})}),Object(g.jsx)(S.a,{path:"/:org/:repo",element:Object(g.jsx)(q,{children:Object(g.jsx)(Q,{})})})]})})})]})},I=n(87),J=Object(I.a)({palette:{primary:{main:"#0052cc"},secondary:{main:"#edf2ff"}}}),T=Object(I.a)(J,{palette:{info:{main:J.palette.secondary.main}}});i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(o.a,{theme:T,children:Object(g.jsx)(D,{})})}),document.getElementById("root")),s()},84:function(e,t,n){e.exports={center:"center_center__1g9eN"}}},[[119,1,2]]]);
//# sourceMappingURL=main.6b94a52f.chunk.js.map